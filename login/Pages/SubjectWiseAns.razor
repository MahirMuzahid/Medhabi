@using ChartJs.Blazor.ChartJS.BarChart
@using ChartJs.Blazor.ChartJS.BarChart.Axes
@using ChartJs.Blazor.ChartJS.Common.Axes
@using ChartJs.Blazor.Charts
@using ChartJs.Blazor.ChartJS.Common.Properties
@using ChartJs.Blazor.ChartJS.Common.Wrappers
@using ChartJs.Blazor.Util

<h1>Bar Chart</h1>

<ChartJsBarChart @ref="_barChartJs" Config="@_config" Width="600" Height="300" />

@code {
    private BarConfig _config;
    private ChartJsBarChart _barChartJs;

    protected override void OnInitialized ( )
    {
        _config = new BarConfig
        {
            Options = new BarOptions
            {
                Title = new OptionsTitle
                {
                    Display = true ,
                    Text = "Sample chart from Blazor"
                } ,
                Scales = new BarScales
                {
                    XAxes = new List<CartesianAxis>
                {
                        new BarCategoryAxis
                        {
                            BarThickness = BarThickness.Flex,
                            Stacked = true
                        }
                    }
                } ,
                Responsive = true
            }
        };

        _config.Data.Labels.AddRange ( new [] { "A" , "B" , "C" , "D" } );

        var barSet1 = new BarDataset<DoubleWrapper>
        {
            Label = "Total Question" ,
            BackgroundColor = ColorUtil.ColorHexString ( 205 , 97 , 85 ) ,
            BorderWidth = 1 ,
            HoverBackgroundColor = ColorUtil.ColorString ( 0 , 0 , 0 , 0.1 ) ,
            HoverBorderColor = "#020202" ,
            HoverBorderWidth = 1 ,
            BorderColor = "#ffffff" ,
        };

        barSet1.AddRange ( new double [] { 4 , 3 , 2 , 1 }.Wrap () );
        _config.Data.Datasets.Add ( barSet1 );

        var barSet2 = new BarDataset<DoubleWrapper>
        {
            Label = "Total Answered" ,
            BackgroundColor = ColorUtil.ColorHexString ( 88 , 214 , 141 ) ,
            BorderWidth = 1 ,
            HoverBackgroundColor = ColorUtil.ColorString ( 0 , 0 , 0 , 0.1 ) ,
            HoverBorderColor = "#020202" ,
            HoverBorderWidth = 1 ,
            BorderColor = "#ffffff" ,
        };

        barSet2.AddRange ( new double [] { 1 , 5 , 10 , 15 }.Wrap () );
        _config.Data.Datasets.Add ( barSet2 );


    }

}
